{#
  Copyright: (c) 2014 by Petr Zemek <s3rvac@gmail.com> and contributors
  License: BSD, see LICENSE for more details
#}

{% extends "base.html" %}

{% macro display_commit(commit) -%}
	<div>
		{% if commit_details_url_fmt %}
			<a href="{{ commit_details_url_fmt.format(commit.hash) }}">{{ commit.short_hash() }}</a>
		{% else %}
			{{ commit.short_hash() }}
		{% endif %}
		{{ commit.date }}
		<a href="mailto:{{ commit.email }}">{{ commit.author }}</a>
		{{ commit.subject }}
	</div>
{%- endmacro %}

{% block body %}
<h2>Repository</h2>
<p>
	{{ repo_name }}
</p>

<h2>Branches on Remote '{{ remote }}'</h2>
<ul>
	{% for branch in branches %}
	<li>
		{{ branch.name }} ({{ branch.age }})
		<ul>
			<li>{{ display_commit(branch.commit) }}</li>
		</ul>
	</li>
	{% endfor %}
</ul>
{% endblock %}
